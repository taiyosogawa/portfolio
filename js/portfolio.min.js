window.onload=function(){function j(){l=window.innerWidth;h=window.innerHeight;d.setSize(window.innerWidth,window.innerHeight);if(S=="project"){D.attr({x:0,y:h,width:l,height:h-60})}else{var e=1;for(c in E){E[c].attr({y:e*h/5});e++}Y(h/5,n/3,"easeIn");if(S=="aboutMe"){var t=l-200;var r=l*900/3283;if(r>h-240){r=h-240;t=r*3283/900}w["design-philosophy"].attr({x:100,y:(h-(r+60))/2,height:r,width:t});w["resume-icon"].attr({x:4*l/11-30,y:h-70});w["email-icon"].attr({x:5*l/11-30,y:h-70});w["linkedin-icon"].attr({x:6*l/11-30,y:h-70});w["github-icon"].attr({x:7*l/11-30,y:h-70});P.attr({x:l-307,y:10});D.attr({x:0,y:64,width:l,height:h-60})}else{P.attr({x:l-307,y:h-64});D.attr({x:0,y:h,width:l,height:h-60})}}}function F(){for(p in y){if(p=="story"){for(s in y[p]){y[p][s].remove()}}else{y[p].remove()}}}function I(e,t){v[e["name"]]=X(t,_.y,10,C);g[e["name"]]=d.text(t,_.y-25,e["name"]).attr({fill:i,"font-family":"mido","font-size":14});v[e["name"]].drawV=e["drawV"];v[e["name"]].designV=e["designV"];v[e["name"]].buildV=e["buildV"];v[e["name"]].engageV=e["engageV"]}function q(e){v[e["name"]].attr({fill:"url(img/"+e["name"]+".png)"})}function R(){if(S=="home"){for(b in v){if(b!=this.pname)v[b].animate({opacity:0},n,"easeIn")}for(bl in g)g[bl].animate({opacity:0},n,"easeIn");S="toProject";x=this;this.toFront();this.cpath=this["attrs"]["path"];this.attr({cursor:"default"});z(this.pname);for(c in E)E[c].animate({opacity:0},n,"easeIn");_.animate({opacity:0},n,"easeIn");this.stop().animate({path:J(8,25,l-20,h-50,6,6)},n,"easeIn")}}function U(){var e={opacity:0,cursor:"pointer"};var t=l-200;var r=l*900/3283;if(r>h-240){r=h-240;t=r*3283/900}w["design-philosophy"]=d.image("img/design-philosophy.png",100,(h-(r+60))/2,t,r).attr({opacity:0});w["resume-icon"]=d.image("img/resume-icon.png",4*l/11-30,h-70,60,60).attr(e);w["email-icon"]=d.image("img/email-icon.png",5*l/11-30,h-70,60,60).attr(e);w["linkedin-icon"]=d.image("img/linkedin-icon.png",6*l/11-30,h-70,60,60).attr(e);w["github-icon"]=d.image("img/github-icon.png",7*l/11-30,h-70,60,60).attr(e);w["resume-icon"].click(function(){window.open("resume.pdf")});w["linkedin-icon"].click(function(){window.open("http://linkedin.com/in/taiyosogawa")});w["github-icon"].click(function(){window.open("https://github.com/taiyosogawa")});w["email-icon"].click(function(){$.fancybox({width:500,height:530,type:"iframe",href:"email.php"});$("#fancybox-content").prepend('<img id="loading-gif" style="margin: 50%" src="img/ajax-loader.gif">')});w["design-philosophy"].animate({opacity:1},n/2,"easeIn");for(m in w){w[m].animate({opacity:1},n,"easeIn")}}function z(e){var t=M[e];var r=h-140;var i=Math.min(Math.min(r*1.55,l/1.6),l-400)-40;r=i/1.55;var f=100;if(i+f+340>l){f=30}else{var c={"font-family":"mido","font-size":12,fill:"#fff",cursor:"default"};var v={fill:o,opacity:.65,stroke:u,"stroke-width":1.5};y["drawVC"]=d.path(V(54,h/5,5+35*t["drawV"])).attr(v);y["drawVT"]=d.text(54,h/5-15-35*t["drawV"],"Draw").attr(c);y["designVC"]=d.path(V(54,2*h/5,5+35*t["designV"])).attr(v);y["designVT"]=d.text(54,2*h/5-17-35*t["designV"],"Design").attr(c);y["buildVC"]=d.path(V(54,3*h/5,5+35*t["buildV"])).attr(v);y["buildVT"]=d.text(54,3*h/5-15-35*t["buildV"],"Build").attr(c);y["engageVC"]=d.path(V(54,4*h/5,5+35*t["engageV"])).attr(v);y["engageVT"]=d.text(54,4*h/5-17-35*t["engageV"],"Engage").attr(c)}var m=(h-r)/2;var g=20;y["img-frame"]=d.rect(f,m,i,r).attr({"stroke-width":4,"stroke-linejoin":"round",stroke:"#222"});y["img"]=d.image("img/"+t["title"].replace(/\s+/g,"-").toLowerCase()+"0.png",f,m,i,r);var b=l-f-i-g-30;var w=30;var E=f+i+g;while(true){var x;var T;var N;T=d.text(E,0,t["title"]).attr(L).attr({"font-size":w});N=T.getBBox()["width"];T.remove();if(N>b)w-=1;else break}y["title"]=d.text(f+i+g,85,t["title"]).attr(L).attr({"font-size":w});var C=h-y["title"].getBBox()["y2"]-100;w=20;while(true){var x;var T;var N;var k=0;for(x=0;x<t["story"].length;x++){T=d.text(E,0,t["story"][x]).attr(A).attr({"font-size":w});N=T.getBBox()["width"];k+=T.getBBox()["height"];T.remove();if(N>b-50){w-=1;break}}if(x==t["story"].length||w<4){break}}var O=y["title"].getBBox()["y2"]+Math.min(50,20+(C-k)/x);var _=Math.min(100,C/x);for(x=0;x<t["story"].length;x++){y["story"][x]=d.text(E,O,t["story"][x]).attr(A).attr({"font-size":w}).hover(function(){if(S=="project"){y["img"].attr({src:"img/"+y["title"]["attrs"]["text"].replace(/\s+/g,"-").toLowerCase()+y["story"].indexOf(this)+".png"});for(var e=0;e<y["story"].length;e++){y["story"][e].stop().animate({fill:a},400,"easeIn")}this.stop().animate({fill:"#fff"},400,"easeIn")}},function(){});O+=_}y["story"][0].attr({fill:"#fff"});for(p in y){if(p=="story"){for(s in y[p]){y[p][s].attr({opacity:0})}}else{y[p].attr({opacity:0})}}window.setTimeout(W,n)}function W(){for(p in y){if(p=="story"){for(s in y[p]){y[p][s].animate({opacity:1},n/2,"easeIn")}}else{y[p].animate({opacity:1},n/2,"easeIn")}}window.setTimeout(function(){S="project"},n/2)}function X(e,t,n,r){var i=V(e,t,n);var s=d.path(i).attr(r);s.cpath=i;s.y=t;return s}function V(e,t,n){var r=n/Math.sqrt(2);var i=n-r;var s="M "+e+", "+t;s+="m 0,-"+n;s+="a "+n+","+n+" 0 0,1 "+r+","+i;s+="a "+n+","+n+" 0 0,1 "+i+","+r;s+="a "+n+","+n+" 0 0,1 -"+i+","+r;s+="a "+n+","+n+" 0 0,1 -"+r+","+i;s+="a "+n+","+n+" 0 0,1 -"+r+",-"+i;s+="a "+n+","+n+" 0 0,1 -"+i+",-"+r;s+="a "+n+","+n+" 0 0,1 "+i+",-"+r;s+="a "+n+","+n+" 0 0,1 "+r+",-"+i;s+="z";return s}function J(e,t,n,r,i){n=n-i;r=r-i;var s="M "+e+" "+t;s+="h "+n;s+="a "+i+","+i+" 0 0,1 "+i+","+i;s+="v "+(r-50);s+="a "+i+","+i+" 0 0,1 -"+i+","+i;s+="h -285 l -50 50";s+="h -"+(n-335);s+="v -"+r;s+="z";return s}function K(){S="toHome";window.setTimeout(function(){S="home"},n)}function Q(e){if(!e)e=window.event;if(e.pageX)return e.pageX;else if(e.clientX)return e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);else return 0}function G(e){if(!e)e=window.event;if(e.pageY)return e.pageY;else if(e.clientY)return e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);else return 0}function Y(e,t,n){_.stop().animate({path:V(_["attrs"]["path"][0][1],e,70)},t,n);var r=Math.max(0,80-Math.abs(E["Draw"]["attrs"]["y"]-e)/2);var i=Math.max(0,80-Math.abs(E["Design"]["attrs"]["y"]-e)/2);var s=Math.max(0,80-Math.abs(E["Build"]["attrs"]["y"]-e)/2);var o=Math.max(0,80-Math.abs(E["Engage"]["attrs"]["y"]-e)/2);for(b in v){var u=10;u+=v[b].drawV*r;u+=v[b].designV*i;u+=v[b].buildV*s;u+=v[b].engageV*o;v[b].animate({path:V(v[b]["attrs"]["path"][0][1],e,u)},t,n);g[b].animate({x:v[b]["attrs"]["path"][0][1],y:e-u-12},t,n)}}function Z(e){if(!Z.list){Z.list=[]}for(var t=0;t<e.length;t++){var n=new Image;n.src=e[t];Z.list.push(n)}}var e=["img/design-philosophy.png","img/ajax-loader.gif","img/resume-icon.png","img/email-icon.png","img/linkedin-icon.png","img/github-icon.png"];for(p in M){for(var t=0;t<5;t++){e.push("img/"+M[p]["title"].replace(/\s+/g,"-").toLowerCase()+t.toString()+".png")}}Z(e);var n=800;var r="#5f9ea0";var i="#fff";var o="#b22222";var u="#900000";var a="#7bb";var f="#2f6e70";var l=window.innerWidth;var h=window.innerHeight;var d=Raphael("container-div",screen.innerHeight,screen.innerWidth);var v={};var g={};var y={};var w={};var E={};var S="loading";var x;var T;var N={"font-family":"mido","font-size":40,fill:"#fff",cursor:"default"};var C={fill:r,opacity:.5,stroke:f,"stroke-width":1.5,cursor:"pointer"};var k={fill:o,opacity:.9,stroke:u,"stroke-width":1.5};var L={"font-family":"mido","text-anchor":"start",fill:"#fff",cursor:"default","font-size":30};var A={"font-family":"Roboto Condensed","text-anchor":"start",fill:a,cursor:"default","font-size":22};var O="I believe in design!";var M={"Pulley Chair":{name:"Pulley Chair",title:"Pulley Chair",story:["Our engineering team was presented with a design\nchallenge from a research doctor studying the muscles of\nstroke survivors at the Rehabilitation Institute of Chicago.","How do you keep people safe while perturbing their\nupper body with a pulley system?","We built a sideways rocking chair prototype that worked\nthe correct muscles, but users expressed a need for\ngreater sense of comfort and security.","The final product addressed that need with padded siding,\na footrest, and a wider rocker arc.","Our team's presentation of the problem statement earned\nus an award for effective communication."],drawV:.2,designV:.3,buildV:.3,engageV:.2},WildCloud:{name:"WildCloud",title:"WildCloud Classroom Software",story:["Our team noticed that instructors often struggle to\nget honest, useful feedback in a large class.","We began prototyping interfaces that would facilitate\nreal-time communication in a classroom setting.","Testing showed flaws in our workflow. Users had no\nway of deleting classes they had mistakenly joined.","We got some of the website functionality right...","But through this experience, I learned about the\nimportance of robust web design across browsers."],drawV:.1,designV:.6,buildV:.3,engageV:.1},Nomad:{name:"Nomad",title:"Nomad",story:["A team of engineers and MBAs, we saw a technology\nneed among food trucks as a design opportunity for us.","User interviews showed that truck owners' sales\ntracking was cumbersome and they had trouble\ncommunicating their location to customers.","Based on observations, we explored user sequences\nfor recording sales and location on a smartphone.","The final product featured an integrated sales\nanalytics and social media solution.","My contribution was building the website with PHP,\njQuery, and OAuth. A step up from my WildCloud project."],drawV:.1,designV:.3,buildV:.4,engageV:.2},"Bus Stop":{name:"Bus Stop",title:"Bus Stop",story:["For an industrial design project, I was looking for\na way to make the bus stop a desireable place to be.","A meditative enclosing could be relaxing, but you\ndon't know who you might meet inside.","The design evolved to capitalize on its outdoor\nsurroundings rather than closing them off.","It eventually became a self sustained ecosphere,\npowering its own display and collecting water and\ncompost for its plants.","A display of concerted environmental efforts\nwould involve the entire community."],drawV:.8,designV:.2,buildV:0,engageV:0},ASB:{name:"ASB",title:"Alternative Student Breaks",story:["Through Northwestern Alternative Student Breaks, I\nvolunteered at Habitat for Humanity in Mississippi.","I wanted to get more involved and saw that the group\nneeded help with their website.","I was appointed to be the ASB Publicity Coordinator\nand started working out usable code.","I even practiced some graphic design. It was a\ncreative outlet for a cause that mattered to me.","Of course nothing compared to getting on the road\nagain; this time leading a trip for new freshmen to a\nschool for children with autism in Pittsburgh."],drawV:.2,designV:0,buildV:.3,engageV:.5},"Brad Box":{name:"Brad Box",title:"Brad Box",story:["Brad, a man who has no motor control beneath the\nneck and uses a synthesized speech device, needed\na better way to make phone calls.","Before designing anything, our team tried to imagine\nourselves in his shoes by sketching user scenarios.","Through research and experimentation, I devised a\nsoftware and hardware setup that enables Brad to\ncontrol an Android phone.","The integrated system was tested so that Brad's\nsystem would be robust in many contexts.","The final product provided a clean interface\ncompatible with a range of Android phone models."],drawV:.1,designV:.3,buildV:.5,engageV:.1}};var y={story:[]};var _=X(100,-50,70,k);var D=d.rect(0,h,l,h-60).attr({fill:"url(img/first_aid_kit.png)","stroke-width":0});var P=d.image("img/name.png",l-307,h-64,290,50).attr({cursor:"pointer"});var H=[];var B=190;for(p in M){I(M[p],_["attrs"]["path"][0][1]+B);B+=145}for(b in v){v[b].pname=b;v[b].hover(function(){this.animate({"stroke-width":7},600,"elastic")},function(){if(S=="home"){this.animate(C,600,"elastic")}});v[b].click(R)}E["Draw"]=d.text(_["attrs"]["path"][0][1],h/5,"draw").attr(N);E["Design"]=d.text(_["attrs"]["path"][0][1],2*h/5,"design").attr(N);E["Build"]=d.text(_["attrs"]["path"][0][1],3*h/5,"build").attr(N);E["Engage"]=d.text(_["attrs"]["path"][0][1],4*h/5,"engage").attr(N);P.click(function(){if(S=="home"){S="aboutMe";for(b in v)v[b].animate({opacity:0},n,"easeIn");for(bl in g)g[bl].animate({opacity:0},n,"easeIn");D.toFront();_.stop().animate({opacity:0},n,"easeIn");this.stop().animate({y:10},n+200,"bounce",U);D.stop().animate({y:64},n+200,"bounce")}else if(S=="aboutMe"){K();F();for(b in v)v[b].animate(C,n,"easeIn");for(bl in g)g[bl].animate({opacity:1},n,"easeIn");for(m in w)w[m].remove();_.stop().animate(k,n,"easeIn");this.stop().animate({y:h-64},n,"bounce");D.stop().animate({y:h},n,"bounce")}else if(S=="project"){K();F();for(b in v)v[b].animate(C,n,"easeIn");for(bl in g)g[bl].animate({opacity:1},n,"easeIn");for(c in E)E[c].animate({opacity:1},n,"easeIn");_.stop().animate(k,n,"easeIn");x.stop().animate({path:x.cpath,"stroke-width":1.5},n,"easeIn");x.attr({cursor:"pointer"})}});Y(h/5,n,"easeIn");H["big-red"]=d.image("img/up-down-arrow.png",20,h/5-27,30,70).attr({opacity:0});H["project"]=d.image("img/up-arrow.png",B-20,h/5+10,50,68).attr({opacity:0});H["name"]=d.image("img/name-arrow.png",l-355,h-74,50,50).attr({opacity:0});window.setTimeout(function(){var e=n;var t={opacity:1};var r={opacity:0};var i="easeIn";H["big-red"].animate(t,e,i,function(){H["big-red"].animate(r,e,i,function(){H["project"].animate(t,e,i,function(){H["project"].animate(r,e,i,function(){H["name"].animate(t,e,i,function(){H["name"].animate(r,e,i,function(){S="home"})})})})})})},n);$(window).resize(j);$("svg").mousemove(function(e){if(Math.random()>.7&&S=="home"){var t=e.pageY;var n=e.pageX;if(n<150){Y(t,250,"easeOut")}else if(n<200){Y(t,n+100,"easeOut")}}})}